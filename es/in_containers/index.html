
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ixpantia.github.io/faucet/es/in_containers/">
      
      
        <link rel="prev" href="../router/">
      
      
        <link rel="next" href="../logging/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.8">
    
    
      
        <title>faucet en Contenedores - faucet</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="faucet" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#faucet-en-contenedores-docker" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../" title="faucet" class="md-header__button md-logo" aria-label="faucet" data-md-component="logo">
      
  <img src="../../figures/faucet.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            faucet
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              faucet en Contenedores
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Seleccionar idioma">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../in_containers/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="es" class="md-select__link">
              Español
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ixpantia/faucet" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../" title="faucet" class="md-nav__button md-logo" aria-label="faucet" data-md-component="logo">
      
  <img src="../../figures/faucet.png" alt="logo">

    </a>
    faucet
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ixpantia/faucet" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instalación
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio Rápido
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Opciones
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../router/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modo Router
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    faucet en Contenedores
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    faucet en Contenedores
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#construir-una-imagen-de-docker-para-faucet" class="md-nav__link">
    <span class="md-ellipsis">
      Construir una Imagen de Docker para faucet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Construir una Imagen de Docker para faucet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#una-aplicacion-basica-shiny-o-plumber-api" class="md-nav__link">
    <span class="md-ellipsis">
      Una aplicación básica Shiny o Plumber API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Una aplicación básica Shiny o Plumber API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aplicacion-shiny" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicación Shiny
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plumber-api" class="md-nav__link">
    <span class="md-ellipsis">
      Plumber API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      Dockerfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dockerfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dockerignore" class="md-nav__link">
    <span class="md-ellipsis">
      Dockerignore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#escribir-el-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      Escribir el Dockerfile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#construir-la-imagen-de-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Construir la imagen de Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecutar-la-imagen-de-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Ejecutar la imagen de Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlar-la-instancia-de-faucet" class="md-nav__link">
    <span class="md-ellipsis">
      Controlar la instancia de faucet
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reverse_proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Con Proxy Inverso
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../telemetry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telemetría
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ejemplos
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#construir-una-imagen-de-docker-para-faucet" class="md-nav__link">
    <span class="md-ellipsis">
      Construir una Imagen de Docker para faucet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Construir una Imagen de Docker para faucet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#una-aplicacion-basica-shiny-o-plumber-api" class="md-nav__link">
    <span class="md-ellipsis">
      Una aplicación básica Shiny o Plumber API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Una aplicación básica Shiny o Plumber API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aplicacion-shiny" class="md-nav__link">
    <span class="md-ellipsis">
      Aplicación Shiny
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#plumber-api" class="md-nav__link">
    <span class="md-ellipsis">
      Plumber API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      Dockerfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dockerfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dockerignore" class="md-nav__link">
    <span class="md-ellipsis">
      Dockerignore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#escribir-el-dockerfile" class="md-nav__link">
    <span class="md-ellipsis">
      Escribir el Dockerfile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#construir-la-imagen-de-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Construir la imagen de Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejecutar-la-imagen-de-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Ejecutar la imagen de Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controlar-la-instancia-de-faucet" class="md-nav__link">
    <span class="md-ellipsis">
      Controlar la instancia de faucet
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="faucet-en-contenedores-docker">faucet en Contenedores (Docker)</h1>
<p>Probablemente la manera más fácil y versátil de implementar faucet es construir una imagen de contenedor Linux y ejecutarla en un contenedor. Esto le permitirá ejecutar faucet en cualquier host de Linux que admita contenedores, como una computadora portátil, una máquina virtual o un servidor.</p>
<h2 id="construir-una-imagen-de-docker-para-faucet">Construir una Imagen de Docker para faucet</h2>
<p>En esta sección, utilizarás la imagen disponible de faucet + R desde Docker Hub. Sin embargo, también puedes construir tu propia imagen si lo deseas. Debes seguir las instrucciones de instalación disponibles para tu sistema operativo para instalar Docker.</p>
<p>Para construir correctamente la imagen de faucet, debes tener en cuenta los siguientes pasos:</p>
<ol>
<li><em>Instalar Docker en tu máquina host.</em> Puedes encontrar las instrucciones específicas para tu sistema operativo en la <a href="https://docs.docker.com/engine/install/">Guía de Instalación de Docker</a>.</li>
<li><em>Considerar las dependencias de tu aplicación en R.</em> Si estás utilizando paquetes R que requieren dependencias del sistema, deberás instalarlas en la imagen de Docker. También, ten en cuenta las versiones de R y las bibliotecas; te recomendamos utilizar <a href="https://rstudio.github.io/renv/articles/renv.html">renv</a>. Para este tutorial, asumiremos que ya estás utilizando <code>renv</code>.</li>
<li><em>Ignorar archivos sensibles o innecesarios.</em> Puedes utilizar un archivo <code>.dockerignore</code> para ignorar archivos que no son necesarios en la imagen de Docker, o puedes especificar manualmente los archivos que deseas incluir en la imagen. En este caso, utilizaremos un archivo <code>.dockerignore</code> para ignorar dichos archivos.</li>
</ol>
<h3 id="una-aplicacion-basica-shiny-o-plumber-api">Una aplicación básica Shiny o Plumber API</h3>
<p>En esta sección, arrancarás una aplicación Shiny básica o Plumber API para utilizar como ejemplo. Puedes usar tu propia aplicación o API, pero asegúrate de tener <code>renv</code> inicializado.</p>
<h4 id="aplicacion-shiny">Aplicación Shiny</h4>
<pre><code class="language-r"># app.R
library(shiny)

ui &lt;- fluidPage(
  titlePanel(&quot;¡Hola Shiny!&quot;),
  sidebarLayout(
    sidebarPanel(
      sliderInput(&quot;obs&quot;, &quot;Número de observaciones:&quot;, min = 10, max = 500, value = 100)
    ),
    mainPanel(
      plotOutput(&quot;distPlot&quot;)
    )
  )
)

server &lt;- function(input, output) {
  output$distPlot &lt;- renderPlot({
    hist(rnorm(input$obs))
  })
}

shinyApp(ui = ui, server = server)
</code></pre>
<p>Después de guardar la aplicación, puedes ejecutarla localmente con:</p>
<pre><code class="language-r">shiny::runApp()
</code></pre>
<p>Para asegurarte de que <code>renv</code> detecte todos los paquetes utilizados en la aplicación, debes crear un archivo <code>dependencies.R</code> con el siguiente contenido:</p>
<pre><code class="language-r"># dependencies.R
library(shiny)
</code></pre>
<p>Ahora puedes inicializar <code>renv</code> e instalar los paquetes:</p>
<pre><code class="language-r">renv::init()
renv::activate()
</code></pre>
<h4 id="plumber-api">Plumber API</h4>
<pre><code class="language-r"># plumber.R
#* @get /echo
function(){
  list(msg = &quot;¡Hola Mundo!&quot;)
}
</code></pre>
<p>Después de guardar la API, puedes ejecutarla localmente con:</p>
<pre><code class="language-r">library(plumber)
# 'plumber.R' es la ubicación del archivo mostrado anteriormente
pr(&quot;plumber.R&quot;) %&gt;%
  pr_run()
</code></pre>
<p>Para asegurarte de que <code>renv</code> detecte todos los paquetes utilizados en la API, debes crear un archivo <code>dependencies.R</code> con el siguiente contenido:</p>
<pre><code class="language-r"># dependencies.R
library(plumber)
</code></pre>
<p>Ahora puedes inicializar <code>renv</code> e instalar los paquetes:</p>
<pre><code class="language-r">renv::init()
renv::activate()
</code></pre>
<h3 id="dockerfile">Dockerfile</h3>
<h4 id="dockerignore">Dockerignore</h4>
<p>El primer paso para construir nuestra imagen de Docker es crear un archivo <code>.dockerignore</code> en la raíz de nuestro proyecto. Este archivo contendrá los archivos que deseas ignorar al construir la imagen de Docker. En este caso, ignoraremos los siguientes archivos de <code>renv</code>:</p>
<pre><code class="language-dockerignore">renv/library/
renv/local/
renv/cellar/
renv/lock/
renv/python/
renv/sandbox/
renv/staging/
</code></pre>
<p>Si este fuera un proyecto real, probablemente también ignorarías archivos como <code>.git</code>, <code>.Rproj.user</code>, <code>.DS_Store</code> y archivos sensibles como <code>.env</code>, <code>.htpasswd</code>, etc.</p>
<h4 id="escribir-el-dockerfile">Escribir el Dockerfile</h4>
<p>El primer paso para construir nuestra imagen de Docker es crear un archivo <code>Dockerfile</code> en la raíz de nuestro proyecto. Este archivo contendrá las instrucciones para construir nuestra imagen de Docker. En este caso, utilizarás la imagen <a href="https://hub.docker.com/r/ixpantia/faucet"><code>ixpantia/faucet</code></a> como base. Esta imagen se basa en la imagen <a href="https://hub.docker.com/r/rocker/r-ver"><code>rocker/r-ver</code></a>, que es una imagen R mínima basada en Debian Linux.</p>
<pre><code>FROM ixpantia/faucet:r4.3

# Algunas variables de entorno para indicar a `renv`
# instalar paquetes en la ubicación correcta
# y sin enlaces simbólicos innecesarios
ENV RENV_CONFIG_CACHE_SYMLINKS FALSE
ENV RENV_PATHS_LIBRARY /srv/faucet/renv/library

# Copias los archivos necesarios para arrancar `renv`
COPY ./renv.lock .
COPY ./renv ./renv
COPY ./.Rprofile .

# Instalas los paquetes
RUN Rscript -e &quot;renv::restore()&quot;

# Copias los archivos de la aplicación/API; en este caso,
# reemplaza `app.R` con `plumber.R` si estás utilizando
# una Plumber API
COPY ./app.R .

# Puedes ejecutar el contenedor como un usuario no root
# por razones de seguridad, aunque esto no es necesario.
# Puedes ignorar esto
RUN chown -R faucet:faucet /srv/faucet/
USER faucet
</code></pre>
<h4 id="construir-la-imagen-de-docker">Construir la imagen de Docker</h4>
<p>Ahora que tienes un <code>Dockerfile</code> y un archivo <code>.dockerignore</code>, puedes construir la imagen de Docker con el siguiente comando:</p>
<pre><code class="language-bash">docker build -t my_faucet_app .
</code></pre>
<h4 id="ejecutar-la-imagen-de-docker">Ejecutar la imagen de Docker</h4>
<p>Una vez construida la imagen, puedes ejecutarla con el siguiente comando:</p>
<pre><code class="language-bash">docker run --rm -p 3838:3838 my_faucet_app
</code></pre>
<p>Ahora puedes acceder a tu aplicación/API en <code>http://localhost:3838</code>.</p>
<h4 id="controlar-la-instancia-de-faucet">Controlar la instancia de faucet</h4>
<p>Puedes controlar todos los aspectos de la instancia de faucet configurando
variables de entorno en el contenedor de Docker. Por ejemplo, si deseas cambiar
el número de trabajadores, puedes hacerlo configurando la variable de entorno
<code>FAUCET_WORKERS</code>:</p>
<pre><code class="language-bash">docker run --rm -p 3838:3838 -e FAUCET_WORKERS=4 my_faucet_app
</code></pre>
<p>Si estás ejecutando la aplicación/API detrás de un proxy como Nginx, puedes
configurar la variable de entorno <code>FAUCET_IP_FROM</code> en <code>x-real-ip</code>
o <code>x-forwarded-for</code> para asegurarte de que faucet obtenga la dirección IP
correcta del cliente.</p>
<pre><code class="language-bash">docker run --rm -p 3838:3838 -e FAUCET_IP_FROM=x-real-ip my_faucet_app
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>